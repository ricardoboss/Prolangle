@inject ITokenTypeHighlighter<GeneralTokenType> Highlighter
@inject IConcealingTokenizerFactory TokenizerFactory

@if (Tokenizer != null)
{
	<SyntaxHighlighter TTokenType="GeneralTokenType"
	                   Highlighter="Highlighter"
	                   Tokenizer="Tokenizer"
	                   Code="@Snippet?.SourceCode"
	                   Style="@Style"/>
}

@code {

	[Parameter]
	public ICodeSnippet? Snippet { get; set; }

	[Parameter]
	public double? RevealedPercent { get; set; }

	[Parameter]
	public string? Style { get; set; }

	private ITokenizer<GeneralTokenType>? Tokenizer => Snippet == null || !RevealedPercent.HasValue ? null : TokenizerFactory.GetTokenizer(Snippet.Language, 0.5d, RevealedPercent.Value);

}
